<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kagri AI - Tr·ª£ l√Ω N√¥ng nghi·ªáp</title>
    <link href="libs/css/all.min.css" rel="stylesheet">
    <script src="libs/js/marked.min.js"></script>
    <script src="libs/js/tf.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main-container">
        <!-- Modal Selection -->
        <div id="selection-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>X√°c nh·∫≠n ·∫£nh</h3>
                <p>B·∫°n mu·ªën l√†m g√¨ v·ªõi ·∫£nh n√†y?</p>
                <div class="modal-actions">
                    <button id="btn-diagnose" class="btn-primary">Ch·∫©n ƒëo√°n b·ªánh c√¢y s·∫ßu ri√™ng</button>
                    <button id="btn-incorrect" class="btn-secondary">Kh√¥ng ƒë√∫ng</button>
                </div>
            </div>
        </div>

        <!-- Sidebar (Optional for future, currently hidden on mobile) -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-leaf logo-icon"></i>
                <h2>Kagri AI</h2>
            </div>
            <div class="sidebar-content">
                <div class="info-card">
                    <h3>V·ªÅ KAGRI</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Tr√¢u Qu·ª≥, Gia L√¢m, H√† N·ªôi</p>
                    <p><i class="fas fa-phone"></i> 0985.562.582</p>
                    <p><i class="fas fa-envelope"></i> contact@kagri.vn</p>
                </div>
            </div>
        </aside>

        <!-- Chat Area -->
        <main class="chat-area">
            <header class="chat-header">
                <div class="header-info">
                    <div class="avatar-bot">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <h3>Tr·ª£ l√Ω KAGRI</h3>
                        <div class="status">
                            <span id="status-dot" class="dot disconnected"></span>
                            <span id="status-text">ƒêang k·∫øt n·ªëi...</span>
                        </div>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="icon-btn" id="tts-toggle-btn" title="B·∫≠t/T·∫Øt ƒê·ªçc Gi·ªçng N√≥i" onclick="toggleTTS()">
                        <i class="fas fa-volume-mute" id="tts-icon"></i>
                    </button>
                    <button class="icon-btn" title="X√≥a l·ªãch s·ª≠" onclick="clearChat()">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </div>
            </header>

            <div class="chat-messages" id="chat-messages">
                <!-- Welcome Message -->
                <div class="message bot welcome-message">
                    <div class="message-content">
                        <p>Xin ch√†o! T√¥i l√† <strong>Kagri AI</strong>.</p>
                        <p>T√¥i c√≥ th·ªÉ gi√∫p b·∫°n tra c·ª©u th√¥ng tin s·∫£n ph·∫©m, k·ªπ thu·∫≠t canh t√°c v√† gi·∫£i ƒë√°p th·∫Øc m·∫Øc v·ªÅ n√¥ng nghi·ªáp.</p>
                    </div>
                </div>
                
                <!-- Quick Suggestions -->
                <div class="suggestions-container" id="suggestions">
                    <button class="suggestion-chip" onclick="sendSuggestion('Th√¥ng tin c√¥ng ty')">
                        üè¢ Th√¥ng tin c√¥ng ty
                    </button>
                    <button class="suggestion-chip" onclick="sendSuggestion('Danh s√°ch s·∫£n ph·∫©m tr·ªã r·∫ßy')">
                        üêõ S·∫£n ph·∫©m tr·ªã r·∫ßy
                    </button>
                    <button class="suggestion-chip" onclick="sendSuggestion('T∆∞ v·∫•n k·ªπ thu·∫≠t b√≥n ph√¢n')">
                        üå± K·ªπ thu·∫≠t b√≥n ph√¢n
                    </button>
                    <button class="suggestion-chip" onclick="sendSuggestion('C√°c s·∫£n ph·∫©m m·ªõi nh·∫•t')">
                        üÜï S·∫£n ph·∫©m m·ªõi
                    </button>
                </div>
            </div>

            <div class="chat-input-container">
                <div class="image-preview" id="image-preview"></div>
                <div class="input-wrapper">
                    <label for="image-upload" class="attach-btn" title="G·ª≠i ·∫£nh">
                        <i class="fas fa-image"></i>
                    </label>
                    <input type="file" id="image-upload" accept="image/*" hidden>
                    
                    <textarea id="message-input" placeholder="Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n..." rows="1"></textarea>
                    
                    <button id="send-btn" class="send-btn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <div class="footer-text">
                    Kagri AI c√≥ th·ªÉ m·∫Øc l·ªói. H√£y ki·ªÉm tra l·∫°i th√¥ng tin quan tr·ªçng.
                </div>
            </div>
        </main>
    </div>

    <script src="app.js?v=4"></script>
</body>
</html>
